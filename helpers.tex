% From http://tex.stackexchange.com/questions/14512/how-to-define-a-figure-size-so-that-it-consumes-the-rest-of-a-page
% Set up a way to make illustrations as big as possible without overflowing the page
\newcommand\measurepage{\dimexpr\pagegoal-\pagetotal-\baselineskip\relax}
\newcommand\illustration[1]{\label{#1}\begin{center}\includegraphics[height=\measurepage,width=\textwidth,keepaspectratio]{#1}\end{center}}

% A custom inclusion mechanism for poems, to reduce the amount of boilerplate
% The first argument is the file to include. The second is the title to index
% the poem under---usually only needed if the title includes a literal pound
% sign. The third is its title. The fourth is its subtitle. The fifth is its
% incipit, or whatever else to call it if it has no title. You need to give the
% first argument and either the third or the fifth.
\newcommand{\includepoem}[5]{%
	\begin{poem}%
	{#3}{#4}{#5}%
	\titleindex{\ifblank{#2}{\ifblank{#3}{#5}{#3}}{#2}}%
	\input{#1}%
	\end{poem}%
}
